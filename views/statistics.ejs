
<h2>Your Statistics</h2>

<div class="row">
  <div class="col-md-6">
    <h4>Habit Completion Rate</h4>
    <canvas id="habitChart"></canvas>
  </div>
  <div class="col-md-6">
    <h4>Nutrition Intake (Last 7 Days)</h4>
    <canvas id="nutritionChart"></canvas>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
  // Example habit data for Chart.js
  const habitData = {
    labels: [<% habits.map(h => `"${h.date}"`).join(",") %>],
    datasets: [{
      label: 'Habit Completion (%)',
      data: [<% habits.map(h => h.completionRate).join(",") %>],
      backgroundColor: 'rgba(75, 192, 192, 0.2)',
      borderColor: 'rgba(75, 192, 192, 1)',
      borderWidth: 1
    }]
  };

  // Example nutrition data for Chart.js
  const nutritionData = {
    labels: ['Calories', 'Protein', 'Carbs', 'Fats'],
    datasets: [{
      label: 'Average Intake (per day)',
      data: [<%= avgNutrition.calories %>, <%= avgNutrition.protein %>, <%= avgNutrition.carbs %>, <%= avgNutrition.fats %>],
      backgroundColor: ['rgba(255, 99, 132, 0.2)', 'rgba(54, 162, 235, 0.2)', 'rgba(255, 206, 86, 0.2)', 'rgba(75, 192, 192, 0.2)'],
      borderColor: ['rgba(255, 99, 132, 1)', 'rgba(54, 162, 235, 1)', 'rgba(255, 206, 86, 1)', 'rgba(75, 192, 192, 1)'],
      borderWidth: 1
    }]
  };

  new Chart(document.getElementById('habitChart').getContext('2d'), {
    type: 'line',
    data: habitData,
    options: { scales: { y: { beginAtZero: true } } }
  });

  new Chart(document.getElementById('nutritionChart').getContext('2d'), {
    type: 'bar',
    data: nutritionData,
    options: { scales: { y: { beginAtZero: true } } }
  });
</script>
